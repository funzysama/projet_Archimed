{% extends 'admin/base.html.twig' %}


{% block page_title %}Gestion Utilisateurs{% endblock %}

{% block page_subtitle %}Ici vous pouvez gerez les utilisateurs du site{% endblock %}

{% block page_content %}
    {% embed '@AdminLTE/Widgets/box-widget.html.twig' %}
        {% import '@AdminLTE/Macros/buttons.html.twig'  as btn %}
        {% block box_title %}Liste des Utilisateurs{% endblock %}
        {% block box_body %}
            <div class="callout callout-info">
                <table style="undefined;table-layout: auto; width: 100%">
                    <thead>
                    <tr>
                        <th>Pseudo</th>
                        <th>Email</th>
                        <th>Superieur</th>
                        <th>Discord<br>Username</th>
                        <th>Vérifié</th>
                        <th>Password<br>Change</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for utilisateur in utilisateurs %}
                        <tr>
                            <td>{{ utilisateur.pseudo }}</td>
                            <td>{{ utilisateur.email }}</td>
                            <td>{% if(utilisateur.superieur) %}
                                    {{ utilisateur.superieur.pseudo }}
                                {% else %}
                                    <span>none</span>
                                {% endif %}
                            </td>
                            <td>{{ utilisateur.discordUsername }}</td>
                            <td>{{ utilisateur.verified }}</td>
                            <td><button>change password</button></td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        {% endblock %}
        {% block box_footer %}
            <div class="pull-right">
                {{ btn.link_button('Ajouter Utilisateur', path('app_register'), 'floppy') }}
            </div>
        {% endblock %}
    {% endembed %}

{% endblock %}
